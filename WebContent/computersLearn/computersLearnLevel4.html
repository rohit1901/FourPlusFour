<!DOCTYPE html>
<html lang="en" class="no-js">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge"> 
		<meta name="viewport" content="width=device-width, initial-scale=1"> 
		<title>Notification Styles Inspiration | Other Corner Expand</title>
		<meta name="description" content="Various styles and effects for unobtrusive notifications on a website" />
		<meta name="keywords" content="notification, inspiration, style, effect, growl, javascript" />
		<meta name="author" content="Codrops" />
		<link rel="shortcut icon" href="../favicon.ico">
		<link href="http://fonts.googleapis.com/css?family=Raleway:400,300,700" rel="stylesheet" type="text/css">
		<link rel="stylesheet" type="text/css" href="css/normalize.css" />
		<link rel="stylesheet" type="text/css" href="css/demo.css" />
		<link rel="stylesheet" type="text/css" href="css/ns-default.css" />
		<link rel="stylesheet" type="text/css" href="css/ns-style-other.css" />
		<script src="js/modernizr.custom.js"></script>
		<script src="js/snap.svg-min.js"></script>
		<link rel="stylesheet" type="text/css" href="css/video.css" />
		<!--[if IE]>
  		<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
	</head>
	<body class="color-2">
		<div class="notification-shape shape-box" id="notification-shape" data-path-to="m 0,0 500,0 0,500 -500,0 z">
			<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 500 500" preserveAspectRatio="none">
				<path d="m 0,0 500,0 0,500 0,-500 z"/>
			</svg>
		</div>
		<div class="container">
			<!-- Top Navigation -->
			<div class="codrops-top clearfix">
				<a class="codrops-icon codrops-icon-prev" href="http://tympanus.net/Development/SelectInspiration/"><span>Previous Demo</span></a>
				<a class="codrops-icon codrops-icon-drop" href="http://tympanus.net/codrops/?p=19415"><span>Back to the Codrops Article</span></a>
			</div>
			<div class="main clearfix">
				<figure>
					<iframe width="425" height="349" src="http://www.youtube.com/embed/FKWwdQu6_ok" frameborder="0" allowfullscreen></iframe>
					<figcaption>YouTube</figcaption>
				</figure>	
			</div>
			<!-- Related demos -->
			<section class="related" id="button">
				
				<a><h3>Watched? Click Here!</h3></a>
			</section>
		</div><!-- /container -->
		<script src="js/classie.js"></script>
		<script src="js/notificationFx.js"></script>
		<script src="http://code.jquery.com/jquery-2.1.1.min.js"></script>
		<script src="js/video.js"></script>
		<script type="text/javascript" src="../js/jquery.session.js"></script>
		<script>
			
            var EMAIL = $.session.get('username');
            var LEVEL = $.session.get('level');
            var SUBJECT = "computers";
            
            var clickCount = 0;
            
            var TRUE = "true";
            var FALSE = "false";
            
            var svgshape = document.getElementById( 'notification-shape' );
			var	s = Snap( svgshape.querySelector( 'svg' ) );
			var	path = s.select( 'path' );
			var	pathConfig = {
					from : path.attr( 'd' ),
					to : svgshape.getAttribute( 'data-path-to' )
				};
			$("#button").click(function() 
			{
				clickCount++;
                
                if(clickCount >= 1)
                {
                    //update learnLevel for student.
                    $.ajax(
                    {
                      url: "http://fast-coast-6607.herokuapp.com/credentialService/updateLearnLevel?email=" + EMAIL + "&level=" + LEVEL + "&subject=" + SUBJECT,
                      context: document.body
                    }).done(function(data)
                            {
                                // simulate loading (for demo purposes only)
                                if(data.toString() == TRUE)
                                {
                                    setTimeout( function() 
                                    {

                                        path.animate( { 'path' : pathConfig.to }, 300, mina.easeinout );

                                        // create the notification
                                        var notification = new NotificationFx({
                                            wrapper : svgshape,
                                            message : '<p><span class="icon icon-trophy"></span> Congratulations! You\ve finished learning all the levels. You\'ve also gained an XP point and your freebie awaits you. Check out the freebie section in your menu! You\'ll now be redirected so that you can choose a new subject to learn.</p>',
                                            layout : 'other',
                                            effect : 'cornerexpand',
                                            type : 'notice', // notice, warning or error
                                            onClose : function() {
                                                setTimeout(function() {
                                                    path.animate( { 'path' : pathConfig.from }, 300, mina.easeinout );
                                                }, 200 );
                                            }
                                        });

                                        // show the notification
                                        notification.show();
                                        window.location.href("../studentLearnPage.html");
                                    }, 1200 );    
                                    $.session.set('level', (LEVEL + 1));
                                }
                                else
                                {
                                    console.log("some error has occurred while updating level table");
                                    location.reload(true);
                                }
                            });
                    }
			 } );
		</script>
	</body>
</html>